
factor-of? f n = zero? (n % f)

prime-factors f n
  | n == 1 = lazy []
  | factor-of? f n = lazy f :: prime-factors f (n / f)
  | otherwise = prime-factors (f + 1) n

main () =
    prime-factors 2 600851475143 |> last |> println!

