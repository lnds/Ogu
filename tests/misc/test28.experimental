-- mmmm

effect greeting : Dict String String -> String

demo () = do
    perform greeting  #{"name" => "Michelle", "language" => "French"} -- Bonjour Michelle

    perform greeting  #{"name" => "Pedro", "language" => "Spanish"} -- Hola Pedro

    handle
        greeting x =>
            match (x @ "language")
                "French" -> yield str "Bonjour " (person "name")
                "English" -> yield str "Hello " (person "name")
                "Spanish" -> yield str "Hola " (person "name")
                otherwise ?  _ = println! "can't determine language, exit..."
